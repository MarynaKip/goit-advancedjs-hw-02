{"version":3,"file":"1-timer-DRbl2WuT.js","sources":["../../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport iziToast from \"izitoast\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nexport function createTimer() {\n  const timerInput = document.querySelector(\"#datetime-picker\");\n  const startButton = document.querySelector(\"[data-start]\");\n  const daysSpan = document.querySelector(\"[data-days]\");\n  const hoursSpan = document.querySelector(\"[data-hours]\");\n  const minutesSpan = document.querySelector(\"[data-minutes]\");\n  const secondsSpan = document.querySelector(\"[data-seconds]\");\n\n  let countdownDate = null;\n  let timerInterval = null;\n\n  startButton.disabled = true;\n\n  flatpickr(timerInput, {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n      const selectedDate = selectedDates[0];\n\n      if (!selectedDate || selectedDate <= new Date()) {\n        iziToast.error({\n          title: \"Error\",\n          message: \"Please choose a date in the future\",\n          position: \"topRight\",\n        });\n        startButton.disabled = true;\n      } else {\n        countdownDate = selectedDate;\n        startButton.disabled = false;\n      }\n    },\n  });\n\n  startButton.addEventListener(\"click\", () => {\n    if (!countdownDate) return;\n\n    startButton.disabled = true;\n    timerInput.disabled = true;\n\n    function updateTimer() {\n      const now = new Date();\n      const timeLeft = countdownDate - now;\n\n      if (timeLeft <= 0) {\n        clearInterval(timerInterval);\n        daysSpan.textContent = \"00\";\n        hoursSpan.textContent = \"00\";\n        minutesSpan.textContent = \"00\";\n        secondsSpan.textContent = \"00\";\n        iziToast.success({\n          title: \"Completed\",\n          message: \"The countdown has ended!\",\n          position: \"topRight\",\n        });\n        return;\n      }\n\n      const days = String(Math.floor(timeLeft / (1000 * 60 * 60 * 24))).padStart(2, \"0\");\n      const hours = String(Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, \"0\");\n      const minutes = String(Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, \"0\");\n      const seconds = String(Math.floor((timeLeft % (1000 * 60)) / 1000)).padStart(2, \"0\");\n\n      daysSpan.textContent = days;\n      hoursSpan.textContent = hours;\n      minutesSpan.textContent = minutes;\n      secondsSpan.textContent = seconds;\n    }\n\n    updateTimer();\n    timerInterval = setInterval(updateTimer, 1000);\n  });\n}"],"names":["createTimer","timerInput","startButton","daysSpan","hoursSpan","minutesSpan","secondsSpan","countdownDate","timerInterval","flatpickr","selectedDates","selectedDate","iziToast","updateTimer","timeLeft","days","hours","minutes","seconds"],"mappings":"gDAOO,SAASA,GAAc,CAC5B,MAAMC,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAc,SAAS,cAAc,cAAc,EACnDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAAgB,KAChBC,EAAgB,KAEpBN,EAAY,SAAW,GAEvBO,EAAUR,EAAY,CACpB,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQS,EAAe,CACrB,MAAMC,EAAeD,EAAc,CAAC,EAEhC,CAACC,GAAgBA,GAAgB,IAAI,MACvCC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,qCACT,SAAU,UACpB,CAAS,EACDV,EAAY,SAAW,KAEvBK,EAAgBI,EAChBT,EAAY,SAAW,GAE1B,CACL,CAAG,EAEDA,EAAY,iBAAiB,QAAS,IAAM,CAC1C,GAAI,CAACK,EAAe,OAEpBL,EAAY,SAAW,GACvBD,EAAW,SAAW,GAEtB,SAASY,GAAc,CAErB,MAAMC,EAAWP,EADL,IAAI,KAGhB,GAAIO,GAAY,EAAG,CACjB,cAAcN,CAAa,EAC3BL,EAAS,YAAc,KACvBC,EAAU,YAAc,KACxBC,EAAY,YAAc,KAC1BC,EAAY,YAAc,KAC1BM,EAAS,QAAQ,CACf,MAAO,YACP,QAAS,2BACT,SAAU,UACpB,CAAS,EACD,MACD,CAED,MAAMG,EAAO,OAAO,KAAK,MAAMD,GAAY,IAAO,GAAK,GAAK,GAAG,CAAC,EAAE,SAAS,EAAG,GAAG,EAC3EE,EAAQ,OAAO,KAAK,MAAOF,GAAY,IAAO,GAAK,GAAK,KAAQ,IAAO,GAAK,GAAG,CAAC,EAAE,SAAS,EAAG,GAAG,EACjGG,EAAU,OAAO,KAAK,MAAOH,GAAY,IAAO,GAAK,KAAQ,IAAO,GAAG,CAAC,EAAE,SAAS,EAAG,GAAG,EACzFI,EAAU,OAAO,KAAK,MAAOJ,GAAY,IAAO,IAAO,GAAI,CAAC,EAAE,SAAS,EAAG,GAAG,EAEnFX,EAAS,YAAcY,EACvBX,EAAU,YAAcY,EACxBX,EAAY,YAAcY,EAC1BX,EAAY,YAAcY,CAC3B,CAEDL,IACAL,EAAgB,YAAYK,EAAa,GAAI,CACjD,CAAG,CACH"}